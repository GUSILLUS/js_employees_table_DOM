{"version":3,"sources":["scripts/main.js"],"names":["tbody","document","querySelector","thead","heads","querySelectorAll","forEach","h","addEventListener","e","head","classList","contains","target","remove","toggle","index","cellIndex","sorted","rows","sort","a","b","aCell","cells","innerHTML","bCell","Number","slice","replace","localeCompare","row","append","parentElement","add","form","createElement","label","textContent","select","option","city","name","toLowerCase","dataset","qa","input","type","step","body","button","hiringFunction","preventDefault","data","FormData","dataObject","Object","fromEntries","entries","length","pushNotification","age","position","salary","newRow","toLocaleString","values","value","cell","field","editing","prevText","style","width","height","focus","ev","key","blur","title","description","message","h2","p","setAttribute","top","right","innerText","setTimeout","alignItems"],"mappings":"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","file":"main.f6a29cf0.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst tbody = document.querySelector('tbody');\nconst thead = document.querySelector('thead');\nconst heads = thead.querySelectorAll('th');\n\n// #region Sorting\nheads.forEach(h => {\n  h.addEventListener('click', (e) => {\n    heads.forEach(head => {\n      if (head.classList.contains('asc') && head !== e.target) {\n        head.classList.remove('asc');\n      }\n    });\n\n    e.target.classList.toggle('asc');\n\n    const index = e.target.cellIndex;\n\n    const sorted = [...tbody.rows].sort((a, b) => {\n      let aCell = a.cells[index].innerHTML;\n      let bCell = b.cells[index].innerHTML;\n\n      if (index === 4) {\n        aCell = Number(aCell.slice(1).replace(',', ''));\n        bCell = Number(bCell.slice(1).replace(',', ''));\n\n        if (e.target.classList.contains('asc')) {\n          return aCell - bCell;\n        } else {\n          return bCell - aCell;\n        }\n      }\n\n      if (index === 3) {\n        if (e.target.classList.contains('asc')) {\n          return aCell - bCell;\n        } else {\n          return bCell - aCell;\n        }\n      }\n\n      if (e.target.classList.contains('asc')) {\n        return aCell.localeCompare(bCell);\n      } else {\n        return bCell.localeCompare(aCell);\n      }\n    });\n\n    tbody.innerHTML = '';\n\n    sorted.forEach(row => {\n      tbody.append(row);\n    });\n  });\n});\n// #endregion\n\n// #region Row\ntbody.addEventListener('click', (e) => {\n  [...tbody.rows].forEach(row => {\n    row.classList.remove('active');\n  });\n\n  e.target.parentElement.classList.add('active');\n});\n// #endregion\n\n// #region Form\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\n\nheads.forEach(head => {\n  const label = document.createElement('label');\n\n  label.textContent = head.textContent;\n\n  if (head.textContent === 'Office') {\n    const select = document.createElement('select');\n    const options = [`Tokyo`, `Singapore`,\n      `London`, `New York`, `Edinburgh`, `San Francisco`];\n\n    options.forEach(option => {\n      const city = document.createElement('option');\n\n      city.textContent = option;\n      select.append(city);\n    });\n\n    select.name = head.textContent.toLowerCase();\n    select.dataset.qa = head.textContent.toLowerCase();\n\n    label.append(select);\n  } else {\n    const input = document.createElement('input');\n\n    if (head.textContent === 'Age' || head.textContent === 'Salary') {\n      input.type = 'number';\n    }\n\n    if (head.textContent === 'Salary') {\n      input.step = 1000;\n    }\n\n    input.name = head.textContent.toLowerCase();\n    input.dataset.qa = head.textContent.toLowerCase();\n\n    label.append(input);\n  }\n\n  form.append(label);\n});\n\ndocument.body.append(form);\n// #endregion\n\n// #region Submit Button\nconst button = document.createElement('button');\n\nbutton.textContent = 'Save to table';\nform.append(button);\n\nconst hiringFunction = (e) => {\n  e.preventDefault();\n\n  const data = new FormData(form);\n  const dataObject = Object.fromEntries(data.entries());\n\n  if (dataObject.name.length < 4) {\n    pushNotification('error', 'Error',\n      'Name should contain more than 4 letters');\n  } else if (+dataObject.age < 18 || +dataObject.age > 90) {\n    pushNotification('error', 'Error',\n      'Age does not meet the requirements');\n  } else if (!dataObject.position || !dataObject.salary) {\n    pushNotification('error', 'Error',\n      'All fields are required');\n  } else {\n    pushNotification('success', 'Success', 'New employee was added');\n\n    const newRow = document.createElement('tr');\n\n    dataObject.salary = '$' + Number(dataObject.salary).toLocaleString('en-US');\n\n    Object.values(dataObject).forEach(value => {\n      const cell = document.createElement('td');\n\n      cell.textContent = value;\n\n      newRow.append(cell);\n    });\n\n    tbody.append(newRow);\n\n    form.querySelectorAll('input').forEach(field => {\n      field.value = '';\n    });\n  }\n};\n\nbutton.addEventListener('click', hiringFunction);\n// #endregion\n\n// #region Editing\nconst editing = (e) => {\n  const index = e.target.cellIndex;\n  const prevText = e.target.textContent;\n\n  e.target.textContent = '';\n\n  let input = document.createElement('input');\n\n  input.style.width = '118px';\n\n  input.classList.add('cell-input');\n\n  if (index === 2) {\n    const select = document.createElement('select');\n    const options = [`Tokyo`, `Singapore`,\n      `London`, `New York`, `Edinburgh`, `San Francisco`];\n\n    options.forEach(option => {\n      const city = document.createElement('option');\n\n      city.textContent = option;\n      select.append(city);\n    });\n    select.style.width = '100px';\n    select.style.height = '18px';\n    input = select;\n  }\n\n  if (index === 3) {\n    input.style.width = '30px';\n    input.type = 'number';\n  }\n\n  if (index === 4) {\n    input.style.width = '66px';\n    input.type = 'number';\n    input.step = 1000;\n  }\n\n  e.target.append(input);\n  input.focus();\n\n  input.addEventListener('blur', () => {\n    switch (index) {\n      case 0:\n        if (input.value.length < 4) {\n          pushNotification('error', 'Error',\n            'Name should contain more than 4 letters');\n          e.target.textContent = prevText;\n\n          return;\n        } else {\n          e.target.textContent = input.value;\n        }\n        break;\n\n      case 1:\n        if (input.value) {\n          e.target.textContent = input.value;\n        } else {\n          pushNotification('error', 'Error', 'Enter data, please');\n          e.target.textContent = prevText;\n\n          return;\n        }\n        break;\n\n      case 2:\n        if (input.value) {\n          e.target.textContent = input.value;\n        } else {\n          e.target.textContent = prevText;\n        }\n        break;\n\n      case 3:\n        if (input.value < 18 || input.value > 90) {\n          pushNotification('error', 'Error',\n            'Age does not meet the requirements');\n          e.target.textContent = prevText;\n\n          return;\n        } else {\n          e.target.textContent = input.value;\n        }\n        break;\n\n      case 4:\n        if (input.value) {\n          e.target.textContent = '$'\n          + Number(input.value).toLocaleString('en-US');\n        } else {\n          pushNotification('error', 'Error', 'Enter data, please');\n          e.target.textContent = prevText;\n\n          return;\n        }\n        break;\n\n      default:\n        pushNotification('error', 'Error', 'Unexpected error...');\n    }\n\n    input.remove();\n  });\n\n  input.addEventListener('keydown', (ev) => {\n    if (ev.key === 'Enter') {\n      input.blur();\n    }\n  });\n};\n\ntbody.addEventListener('dblclick', editing);\n\n// #endregion\n\n// #region Notification\nconst pushNotification = (type, title, description) => {\n  const message = document.createElement('div');\n  const h2 = document.createElement('h2');\n  const p = document.createElement('p');\n\n  message.append(h2, p);\n\n  message.classList.add('notification', type);\n\n  message.setAttribute('data-qa', 'notification');\n\n  message.style.top = `10px`;\n  message.style.right = `10px`;\n\n  h2.innerText = title;\n  h2.classList.add('title');\n  p.innerText = description;\n\n  document.querySelector('body').append(message);\n\n  setTimeout(() => {\n    message.remove();\n  }, 2500);\n};\n// #endregion\n\n// #region align-items\ndocument.querySelector('body').style.alignItems = 'flex-start';\n// #endregion\n"]}